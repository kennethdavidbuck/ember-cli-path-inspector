<nav class="navbar navbar-inverse">
	<div class="container">
		<div class="navbar-header">
			{{#link-to "index" class="navbar-brand"}}
        Path Inspector
			{{/link-to}}
		</div>
	</div>
</nav>

<div class="container">
  <h1>Route Tree</h1>

  {{#graph-tree tree=pathInspectorService.routeMapTree}}
    {{graph-node node=pathInspectorService.routeMapTree}}
  {{/graph-tree}}

  <h2>Route Data</h2>

	<table class="table table-inverse table-striped table-bordered">
		<caption>route name: {{routeName}}</caption>
		<thead>
		<tr>
			<th>depth</th>
			<th>is leafNode</th>
			<th>node name</th>
			<th>parent node name</th>
			<th>parent route name</th>
			<th>child count</th>
			<th>sibling count</th>
			<th>sibling route names</th>
		</tr>
		</thead>
		<tbody>
		<tr>
			<td>{{node.depth}}</td>
			<td>{{node.isLeafNode}}</td>
			<td>{{nodeName}}</td>
			<td>{{if node.parent.nodeName node.parent.nodeName "n/a"}}</td>
			<td>{{node.parent.routeName}}</td>
			<td>{{node.children.length}}</td>
			<td>{{siblingNodes.length}}</td>
			<td>
              {{#if siblingNodes.length}}
				  <ul>
                    {{#each siblingNodes as |siblingNode|}}
						<li>{{#link-to siblingNode.routeName}}{{siblingNode.routeName}}{{/link-to}}</li>
                    {{/each}}
				  </ul>
              {{else}}
				  n/a
              {{/if}}
			</td>
		</tr>
		</tbody>
	</table>

  {{outlet}}
</div>
